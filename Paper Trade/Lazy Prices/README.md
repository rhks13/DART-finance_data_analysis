# Lazy Prices

## 전략 선정 배경

+ 2021년에 발표된 논문인 Lazy Price에서 착안한 모의투자 전략
+ 기업의 재무 보고서내의 언어, 보고서의 구성 변화는 향후 운영 및 수익과 관련된 중요한 신호를 전달할 수 있음
+ 투자자들은 이러한 신호를 공표직후에 해석하지 못하고, 이후 암시된 정보의 의미를 점진적으로 깨닫게 됨
+ 이는 최종적으로 미래의 주식가격 및 기업운영에 반영됨

+ 사업보고서의 변경이 미래 수익성, 미래 뉴스 발표, 기업 수준 파산을 예측할 수 있는 중요한 정보를 함축한다는 사실을 투자에 활용

## 분석방식

+ 코사인 유사도를 활용해 기업의 사업보고서 내용 및 양식의 변화 측정
+ 변화가 가장 적은 상위 기업에 투자하는 전략


## 분석과정

### 데이터 크롤링

+ OpenDartReader 사용. 
  + OpenDart의 서비스 api를 손쉽게 사용할 수 있게하는 파이썬 소스 라이브러리
  + 기업이름(or 티커), 시작지점을 입력하면 공시정보 출력가능
+ 크롤링 과정
  1. 기업들의 특정시점 이후 모든 공시정보 저장
  2. 사업보고서에 해당하는 정보만 검색
    + 주의점 
      + '사업보고서제출기한연장신고서'의 정보가 같이 출력 되는 상황 방지
      + 수정된 사업보고서의 경우 수정된 날짜가 기준이 됨
  3. 모든 기업들의 2014년 이후 사업보고서의 문서번호 저장

### 데이터 전처리

+ 목차의 헤더 이용해 내용 추출
  + 'IV. 이사의 경영진단 및 분석의견'과 'V. 회계감사인의 감사의견 등'헤더 사이에 있는 xml만 추출
  + 주의점
    + 기재정정의 경우 -> 헤더가 한번 더 작성될 가능성 존재
    + 2018년 기점으로 사업보고서의 양식 변화
+ 불필요한 내용/항목 삭제
  + 문서마다 반복되거나 불필요한 내용 삭제
  + 테이블이 존재하는 경우 태그와 내용 삭제
  + 단위, 미사여구, 클릭 텍스트, 모든 캐그 및 괄호안의 내용 삭제
  + 3칸이상의 공백을 1칸으로 대체

### 문서 유사도 분석

+ Sentence BERT를 이용한 문장 임베딩
  + kss의 split_sentence로 문장 구분
  + 문장을 구분함에 따라 발생하는 정크텍스트 제거
  + sentence bert를 이용해 각 문장을 임베딩
  + 문서 내 모든 문장의 벡터를 평균 => 문단의 벡터 생성

+ 코사인 유사도를 활용한 최종 종목 선정
  1. 2022년 사업보고서를 기준으로 이전의 보고서들과 각각의 코사인 유사도 도출
  2. 기업별 평균 코사인 유사도가 높고, 유사도의 표준편차가 적은 상위 20개의 기업 선정
  ![image](https://user-images.githubusercontent.com/69777594/230381548-774af220-e228-444c-9da3-2a73ea2e2c50.png)
  ![image](https://user-images.githubusercontent.com/69777594/230381587-96f96a1b-dc91-4536-af6c-501010e790db.png)

